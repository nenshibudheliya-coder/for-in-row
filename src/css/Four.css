  @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&family=Orbitron:wght@700;900&family=Luckiest+Guy&display=swap');
        @keyframes float { 0%, 100% { transform: translate(0, 0) scale(1); } 50% { transform: translate(20px, -20px) scale(1.1); } }
        @keyframes bounceMenu { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes moveGradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }

        @keyframes pieceFloat {
          0% { transform: translateY(-100vh) rotate(0deg); opacity: 0; }
          10% { opacity: 0.2; }
          90% { opacity: 0.2; }
          100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes boardPulse {
          0%, 100% { opacity: 0.05; }
          50% { opacity: 0.15; }
        } 
        @keyframes slideDown { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes titlePop { 
          0% { transform: scale(0.5); opacity: 0; }
          60% { transform: scale(1.1); }
          100% { transform: scale(1); opacity: 1; }
        }
        
        .menu-title {
          font-family: 'Luckiest Guy', cursive;
          font-size: clamp(4rem, 15vw, 8rem);
          line-height: 0.9;
          color: #fff;
          text-align: center;
          margin-bottom: 2.5rem;
          position: relative;
          z-index: 2;
          animation: titlePop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
          filter: drop-shadow(0 6px 0 #000) drop-shadow(0 12px 15px rgba(0,0,0,0.5));
        }

        .menu-title .word-4 { color: #8bc34a; margin-right: 0.25em; display: inline-block; }
        .menu-title .word-in { font-size: 0.65em; color: #ff9800; vertical-align: middle; margin-right: 0.2em; display: inline-block; }
        .menu-title .word-a { font-size: 0.65em; color: #ffc107; vertical-align: middle; }
        .menu-title .word-row { color: #0fb6b6; }

        .menu-btn {
          width: min(400px, 85vw);
          height: clamp(55px, 10vh, 75px);
          margin: clamp(5px, 2vw, 12px);
          border-radius: clamp(12px, 3vw, 20px);
          border: 1px solid rgba(255, 255, 255, 0.3);
          font-family: 'Luckiest Guy', cursive;
          font-size: clamp(1rem, 4.5vw, 1.5rem);
          color: #fff;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
          white-space: nowrap;
        }

        @media (max-width: 480px) {
          .menu-title {
            font-size: clamp(2.5rem, 15vw, 5rem);
            margin-bottom: 1rem;
          }
          .menu-btn {
            border-width: 1px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15); 
            gap: 10px;
            height: clamp(55px, 11vw, 65px);
            font-size: clamp(1.1rem, 4.5vw, 1.4rem);
          }
          .menu-btn svg {
            width: 18px;
            height: 18px;
          }
        }

        .menu-btn:hover {
          transform: translateY(-5px) scale(1.02);
          box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
          border-color: rgba(255, 255, 255, 0.5);
        }

        .menu-btn:active {
          transform: translateY(0) scale(0.98);
          box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .btn-local { background: linear-gradient(to bottom, #f44336, #d32f2f); }
        .btn-computer { background: linear-gradient(to bottom, #00bcd4, #0097a7); }

        .bg-spots {
          position: absolute;
          inset: 0;
          overflow: hidden;
          pointer-events: none;
          z-index: 0;
          background: #1b4332; /* Deep forest green base */
        }

        /* The 'Board Holes' pattern */
        .bg-spots::before {
          content: '';
          position: absolute;
          inset: 0;
          background-image: radial-gradient(circle, rgba(255, 255, 255, 0.05) 45%, transparent 46%);
          background-size: 70px 70px;
          animation: boardPulse 8s infinite ease-in-out;
        }

        /* Falling Piece Background Elements */
        .bg-piece {
          position: absolute;
          border-radius: 50%;
          animation: pieceFloat linear infinite;
          pointer-events: none;
          z-index: 1;
        }

        /* Bubble Sizes */
        .bubble-sm { width: 15px; height: 15px; filter: blur(1px); opacity: 0.15; }
        .bubble-md { width: 40px; height: 40px; filter: blur(2px); opacity: 0.12; }
        .bubble-lg { width: 90px; height: 90px; filter: blur(4px); opacity: 0.08; }

        /* Bubble Colors */
        .white-b { background: #fff; }
        .green-b { background: #95d5b2; }

        /* Bubble Positioning & Timing */
        .p-1 { left: 8%; animation-duration: 18s; }
        .p-2 { left: 18%; animation-duration: 25s; animation-delay: -5s; }
        .p-3 { left: 28%; animation-duration: 20s; animation-delay: -10s; }
        .p-4 { left: 38%; animation-duration: 28s; animation-delay: -15s; }
        .p-5 { left: 48%; animation-duration: 22s; animation-delay: -2s; }
        .p-6 { left: 58%; animation-duration: 30s; animation-delay: -7s; }
        .p-7 { left: 68%; animation-duration: 15s; animation-delay: -12s; }
        .p-8 { left: 78%; animation-duration: 24s; animation-delay: -3s; }
        .p-9 { left: 88%; animation-duration: 19s; animation-delay: -9s; }
        .p-10 { left: 2%; animation-duration: 35s; animation-delay: -1s; }
        .p-11 { left: 95%; animation-duration: 22s; animation-delay: -18s; }
        .p-12 { left: 15%; animation-duration: 27s; animation-delay: -4s; }
        .p-13 { left: 85%; animation-duration: 21s; animation-delay: -11s; }
        .p-14 { left: 42%; animation-duration: 32s; animation-delay: -6s; }
        .p-15 { left: 72%; animation-duration: 16s; animation-delay: -14s; }
        .p-16 { left: 12%; animation-duration: 22s; animation-delay: -3s; }
        .p-17 { left: 22%; animation-duration: 19s; animation-delay: -8s; }
        .p-18 { left: 32%; animation-duration: 31s; animation-delay: -13s; }
        .p-19 { left: 42%; animation-duration: 26s; animation-delay: -1s; }
        .p-20 { left: 52%; animation-duration: 20s; animation-delay: -11s; }
        .p-21 { left: 62%; animation-duration: 28s; animation-delay: -6s; }
        .p-22 { left: 72%; animation-duration: 24s; animation-delay: -15s; }
        .p-23 { left: 82%; animation-duration: 17s; animation-delay: -4s; }
        .p-24 { left: 92%; animation-duration: 29s; animation-delay: -9s; }
        .p-25 { left: 5%; animation-duration: 21s; animation-delay: -12s; }
        .p-26 { left: 35%; animation-duration: 25s; animation-delay: -2s; }
        .p-27 { left: 65%; animation-duration: 33s; animation-delay: -7s; }
        .p-28 { left: 15%; animation-duration: 18s; animation-delay: -14s; }
        .p-29 { left: 55%; animation-duration: 27s; animation-delay: -5s; }
        .p-30 { left: 85%; animation-duration: 23s; animation-delay: -10s; }

        /* Mobile specific adjustments for the game status */
        .game-status {
          font-size: clamp(0.9rem, 4vw, 1.1rem) !important;
        }

        @media (max-height: 500px) and (orientation: landscape) {
          .menu-title {
            margin-bottom: 0.5rem;
            font-size: clamp(2rem, 15vh, 4rem);
          }
          .menu-btn {
            height: 50px;
            font-size: 1.2rem;
          }
        }

        /* Prevent landscape play on mobile 09-02 --roated */
        @media (max-width: 932px) and (orientation: landscape) {
          .main-app-container {
            display: none !important;
          }
          body {
            overflow: hidden;
            background: #fff !important; /* Hide background plane */
          }
        }

        /* Clear browser-default tap highlights and focus outlines 10-02 */
        canvas, .game-wrapper, .main-app-container, .menu-btn, button {
          -webkit-tap-highlight-color: transparent;
          outline: none;
          -webkit-user-select: none;
          user-select: none;
          -webkit-touch-callout: none;
        }

        canvas:focus {
          outline: none;
        }
